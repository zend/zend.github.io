---
layout: post
status: publish
published: true
title: PHP日历算法，公历农历换算
author:
  display_name: admin
  login: admin
  email: combbs@gmail.com
  url: http://seaprince.cn/
author_login: admin
author_email: combbs@gmail.com
author_url: http://seaprince.cn/
wordpress_id: 156
date: !binary |-
  MjAwNy0wOC0xNSAxOToxODoyOCArMDgwMA==
date_gmt: !binary |-
  MjAwNy0wOC0xNSAxMToxODoyOCArMDgwMA==
categories:
- 脚本语言
tags:
- php
comments: []
---
<div class="codeText">
<div class="codeHead">PHP代码<&#47;div></p>
<ol start="1" class="dp-c">
<li class="alt"><span><span><?php&nbsp;&nbsp;<&#47;span><&#47;span><&#47;li>
<li class=""><span>###########################################&nbsp;&nbsp;<&#47;span><&#47;li>
<li class="alt"><span>#作者:&nbsp;沈潋(S&amp;S&nbsp;Lab)&nbsp;#&nbsp;&nbsp;<&#47;span><&#47;li>
<li class=""><span>#E-mail:shenlian@hotmail.com&nbsp;#&nbsp;&nbsp;<&#47;span><&#47;li>
<li class="alt"><span>#web:&nbsp;点击查看链接&nbsp;#&nbsp;&nbsp;<&#47;span><&#47;li>
<li class=""><span>#&nbsp;#&nbsp;&nbsp;<&#47;span><&#47;li>
<li class="alt"><span>#版权声明:&nbsp;#&nbsp;&nbsp;<&#47;span><&#47;li>
<li class=""><span>#作者开放版权&nbsp;#&nbsp;&nbsp;<&#47;span><&#47;li>
<li class="alt"><span>#允许无条件地使用本文件的全部或部分&nbsp;#&nbsp;&nbsp;<&#47;span><&#47;li>
<li class=""><span>#可作任何修改或增补&nbsp;#&nbsp;&nbsp;<&#47;span><&#47;li>
<li class="alt"><span>#如果您使用了本文件，请给作者写一封E-mail&nbsp;#&nbsp;&nbsp;<&#47;span><&#47;li>
<li class=""><span>#如有问题欢迎同作者联系&nbsp;#&nbsp;&nbsp;<&#47;span><&#47;li>
<li class="alt"><span>#谢谢您的关注!&nbsp;#&nbsp;&nbsp;<&#47;span><&#47;li>
<li class=""><span>###########################################&nbsp;&nbsp;<&#47;span><&#47;li>
<li class="alt"><span><span class="comment">&#47;*<&#47;span>&nbsp;<&#47;span><&#47;li>
<li class=""><span><span class="comment">*修改：小许<&#47;span>&nbsp;<&#47;span><&#47;li>
<li class="alt"><span><span class="comment">*mail:&nbsp;san@xfocus.org<&#47;span>&nbsp;<&#47;span><&#47;li>
<li class=""><span><span class="comment">*web&nbsp;:&nbsp;点击查看链接<&#47;span>&nbsp;<&#47;span><&#47;li>
<li class="alt"><span><span class="comment">*<&#47;span>&nbsp;<&#47;span><&#47;li>
<li class=""><span><span class="comment">*说实在的，我对古历可以说一窍不通，下面这个数组还是不理解&nbsp;可是作者的信箱好像不通<&#47;span>&nbsp;<&#47;span><&#47;li>
<li class="alt"><span><span class="comment">*基本上是依样画葫芦，所以出现错误，见笑见笑，呵呵<&#47;span>&nbsp;<&#47;span><&#47;li>
<li class=""><span><span class="comment">*&#47;<&#47;span><span>&nbsp;&nbsp;<&#47;span><&#47;span><&#47;li>
<li class="alt"><span>#农历每月的天数&nbsp;&nbsp;<&#47;span><&#47;li>
<li class=""><span>&nbsp;&nbsp;<&#47;span><&#47;li>
<li class="alt"><span><span class="vars">$everymonth<&#47;span><span>=<&#47;span><span class="keyword">array<&#47;span><span>(&nbsp;&nbsp;<&#47;span><&#47;span><&#47;li>
<li class=""><span>&nbsp;&nbsp;<&#47;span><&#47;li>
<li class="alt"><span>0=><span class="keyword">array<&#47;span><span>(8,0,0,0,0,0,0,0,0,0,0,0,29,30,7,1),&nbsp;&nbsp;<&#47;span><&#47;span><&#47;li>
<li class=""><span>1=><span class="keyword">array<&#47;span><span>(0,29,30,29,29,30,29,30,29,30,30,30,29,0,8,2),&nbsp;&nbsp;<&#47;span><&#47;span><&#47;li>
<li class="alt"><span>2=><span class="keyword">array<&#47;span><span>(0,30,29,30,29,29,30,29,30,29,30,30,30,0,9,3),&nbsp;&nbsp;<&#47;span><&#47;span><&#47;li>
<li class=""><span>3=><span class="keyword">array<&#47;span><span>(5,29,30,29,30,29,29,30,29,29,30,30,29,30,10,4),&nbsp;&nbsp;<&#47;span><&#47;span><&#47;li>
<li class="alt"><span>4=><span class="keyword">array<&#47;span><span>(0,30,30,29,30,29,29,30,29,29,30,30,29,0,1,5),&nbsp;&nbsp;<&#47;span><&#47;span><&#47;li>
<li class=""><span>5=><span class="keyword">array<&#47;span><span>(0,30,30,29,30,30,29,29,30,29,30,29,30,0,2,6),&nbsp;&nbsp;<&#47;span><&#47;span><&#47;li>
<li class="alt"><span>6=><span class="keyword">array<&#47;span><span>(4,29,30,30,29,30,29,30,29,30,29,30,29,30,3,7),&nbsp;&nbsp;<&#47;span><&#47;span><&#47;li>
<li class=""><span>7=><span class="keyword">array<&#47;span><span>(0,29,30,29,30,29,30,30,29,30,29,30,29,0,4,8),&nbsp;&nbsp;<&#47;span><&#47;span><&#47;li>
<li class="alt"><span>8=><span class="keyword">array<&#47;span><span>(0,30,29,29,30,30,29,30,29,30,30,29,30,0,5,9),&nbsp;&nbsp;<&#47;span><&#47;span><&#47;li>
<li class=""><span>9=><span class="keyword">array<&#47;span><span>(2,29,30,29,29,30,29,30,29,30,30,30,29,30,6,10),&nbsp;&nbsp;<&#47;span><&#47;span><&#47;li>
<li class="alt"><span>10=><span class="keyword">array<&#47;span><span>(0,29,30,29,29,30,29,30,29,30,30,30,29,0,7,11),&nbsp;&nbsp;<&#47;span><&#47;span><&#47;li>
<li class=""><span>11=><span class="keyword">array<&#47;span><span>(6,30,29,30,29,29,30,29,29,30,30,29,30,30,8,12),&nbsp;&nbsp;<&#47;span><&#47;span><&#47;li>
<li class="alt"><span>12=><span class="keyword">array<&#47;span><span>(0,30,29,30,29,29,30,29,29,30,30,29,30,0,9,1),&nbsp;&nbsp;<&#47;span><&#47;span><&#47;li>
<li class=""><span>13=><span class="keyword">array<&#47;span><span>(0,30,30,29,30,29,29,30,29,29,30,29,30,0,10,2),&nbsp;&nbsp;<&#47;span><&#47;span><&#47;li>
<li class="alt"><span>14=><span class="keyword">array<&#47;span><span>(5,30,30,29,30,29,30,29,30,29,30,29,29,30,1,3),&nbsp;&nbsp;<&#47;span><&#47;span><&#47;li>
<li class=""><span>15=><span class="keyword">array<&#47;span><span>(0,30,29,30,30,29,30,29,30,29,30,29,30,0,2,4),&nbsp;&nbsp;<&#47;span><&#47;span><&#47;li>
<li class="alt"><span>16=><span class="keyword">array<&#47;span><span>(0,29,30,29,30,29,30,30,29,30,29,30,29,0,3,5),&nbsp;&nbsp;<&#47;span><&#47;span><&#47;li>
<li class=""><span>17=><span class="keyword">array<&#47;span><span>(2,30,29,29,30,29,30,30,29,30,30,29,30,29,4,6),&nbsp;&nbsp;<&#47;span><&#47;span><&#47;li>
<li class="alt"><span>18=><span class="keyword">array<&#47;span><span>(0,30,29,29,30,29,30,29,30,30,29,30,30,0,5,7),&nbsp;&nbsp;<&#47;span><&#47;span><&#47;li>
<li class=""><span>19=><span class="keyword">array<&#47;span><span>(7,29,30,29,29,30,29,29,30,30,29,30,30,30,6,8),&nbsp;&nbsp;<&#47;span><&#47;span><&#47;li>
<li class="alt"><span>20=><span class="keyword">array<&#47;span><span>(0,29,30,29,29,30,29,29,30,30,29,30,30,0,7,9),&nbsp;&nbsp;<&#47;span><&#47;span><&#47;li>
<li class=""><span>21=><span class="keyword">array<&#47;span><span>(0,30,29,30,29,29,30,29,29,30,29,30,30,0,8,10),&nbsp;&nbsp;<&#47;span><&#47;span><&#47;li>
<li class="alt"><span>22=><span class="keyword">array<&#47;span><span>(5,30,29,30,30,29,29,30,29,29,30,29,30,30,9,11),&nbsp;&nbsp;<&#47;span><&#47;span><&#47;li>
<li class=""><span>23=><span class="keyword">array<&#47;span><span>(0,29,30,30,29,30,29,30,29,29,30,29,30,0,10,12),&nbsp;&nbsp;<&#47;span><&#47;span><&#47;li>
<li class="alt"><span>24=><span class="keyword">array<&#47;span><span>(0,29,30,30,29,30,30,29,30,29,30,29,29,0,1,1),&nbsp;&nbsp;<&#47;span><&#47;span><&#47;li>
<li class=""><span>25=><span class="keyword">array<&#47;span><span>(4,30,29,30,29,30,30,29,30,30,29,30,29,30,2,2),&nbsp;&nbsp;<&#47;span><&#47;span><&#47;li>
<li class="alt"><span>26=><span class="keyword">array<&#47;span><span>(0,29,29,30,29,30,29,30,30,29,30,30,29,0,3,3),&nbsp;&nbsp;<&#47;span><&#47;span><&#47;li>
<li class=""><span>27=><span class="keyword">array<&#47;span><span>(0,30,29,29,30,29,30,29,30,29,30,30,30,0,4,4),&nbsp;&nbsp;<&#47;span><&#47;span><&#47;li>
<li class="alt"><span>28=><span class="keyword">array<&#47;span><span>(2,29,30,29,29,30,29,29,30,29,30,30,30,30,5,5),&nbsp;&nbsp;<&#47;span><&#47;span><&#47;li>
<li class=""><span>29=><span class="keyword">array<&#47;span><span>(0,29,30,29,29,30,29,29,30,29,30,30,30,0,6,6),&nbsp;&nbsp;<&#47;span><&#47;span><&#47;li>
<li class="alt"><span>30=><span class="keyword">array<&#47;span><span>(6,29,30,30,29,29,30,29,29,30,29,30,30,29,7,7),&nbsp;&nbsp;<&#47;span><&#47;span><&#47;li>
<li class=""><span>31=><span class="keyword">array<&#47;span><span>(0,30,30,29,30,29,30,29,29,30,29,30,29,0,8,8),&nbsp;&nbsp;<&#47;span><&#47;span><&#47;li>
<li class="alt"><span>32=><span class="keyword">array<&#47;span><span>(0,30,30,30,29,30,29,30,29,29,30,29,30,0,9,9),&nbsp;&nbsp;<&#47;span><&#47;span><&#47;li>
<li class=""><span>33=><span class="keyword">array<&#47;span><span>(5,29,30,30,29,30,30,29,30,29,30,29,29,30,10,10),&nbsp;&nbsp;<&#47;span><&#47;span><&#47;li>
<li class="alt"><span>34=><span class="keyword">array<&#47;span><span>(0,29,30,29,30,30,29,30,29,30,30,29,30,0,1,11),&nbsp;&nbsp;<&#47;span><&#47;span><&#47;li>
<li class=""><span>35=><span class="keyword">array<&#47;span><span>(0,29,29,30,29,30,29,30,30,29,30,30,29,0,2,12),&nbsp;&nbsp;<&#47;span><&#47;span><&#47;li>
<li class="alt"><span>36=><span class="keyword">array<&#47;span><span>(3,30,29,29,30,29,29,30,30,29,30,30,30,29,3,1),&nbsp;&nbsp;<&#47;span><&#47;span><&#47;li>
<li class=""><span>37=><span class="keyword">array<&#47;span><span>(0,30,29,29,30,29,29,30,29,30,30,30,29,0,4,2),&nbsp;&nbsp;<&#47;span><&#47;span><&#47;li>
<li class="alt"><span>38=><span class="keyword">array<&#47;span><span>(7,30,30,29,29,30,29,29,30,29,30,30,29,30,5,3),&nbsp;&nbsp;<&#47;span><&#47;span><&#47;li>
<li class=""><span>39=><span class="keyword">array<&#47;span><span>(0,30,30,29,29,30,29,29,30,29,30,29,30,0,6,4),&nbsp;&nbsp;<&#47;span><&#47;span><&#47;li>
<li class="alt"><span>40=><span class="keyword">array<&#47;span><span>(0,30,30,29,30,29,30,29,29,30,29,30,29,0,7,5),&nbsp;&nbsp;<&#47;span><&#47;span><&#47;li>
<li class=""><span>41=><span class="keyword">array<&#47;span><span>(6,30,30,29,30,30,29,30,29,29,30,29,30,29,8,6),&nbsp;&nbsp;<&#47;span><&#47;span><&#47;li>
<li class="alt"><span>42=><span class="keyword">array<&#47;span><span>(0,30,29,30,30,29,30,29,30,29,30,29,30,0,9,7),&nbsp;&nbsp;<&#47;span><&#47;span><&#47;li>
<li class=""><span>43=><span class="keyword">array<&#47;span><span>(0,29,30,29,30,29,30,30,29,30,29,30,29,0,10,8),&nbsp;&nbsp;<&#47;span><&#47;span><&#47;li>
<li class="alt"><span>44=><span class="keyword">array<&#47;span><span>(4,30,29,30,29,30,29,30,29,30,30,29,30,30,1,9),&nbsp;&nbsp;<&#47;span><&#47;span><&#47;li>
<li class=""><span>45=><span class="keyword">array<&#47;span><span>(0,29,29,30,29,29,30,29,30,30,30,29,30,0,2,10),&nbsp;&nbsp;<&#47;span><&#47;span><&#47;li>
<li class="alt"><span>46=><span class="keyword">array<&#47;span><span>(0,30,29,29,30,29,29,30,29,30,30,29,30,0,3,11),&nbsp;&nbsp;<&#47;span><&#47;span><&#47;li>
<li class=""><span>47=><span class="keyword">array<&#47;span><span>(2,30,30,29,29,30,29,29,30,29,30,29,30,30,4,12),&nbsp;&nbsp;<&#47;span><&#47;span><&#47;li>
<li class="alt"><span>48=><span class="keyword">array<&#47;span><span>(0,30,29,30,29,30,29,29,30,29,30,29,30,0,5,1),&nbsp;&nbsp;<&#47;span><&#47;span><&#47;li>
<li class=""><span>49=><span class="keyword">array<&#47;span><span>(7,30,29,30,30,29,30,29,29,30,29,30,29,30,6,2),&nbsp;&nbsp;<&#47;span><&#47;span><&#47;li>
<li class="alt"><span>50=><span class="keyword">array<&#47;span><span>(0,29,30,30,29,30,30,29,29,30,29,30,29,0,7,3),&nbsp;&nbsp;<&#47;span><&#47;span><&#47;li>
<li class=""><span>51=><span class="keyword">array<&#47;span><span>(0,30,29,30,30,29,30,29,30,29,30,29,30,0,8,4),&nbsp;&nbsp;<&#47;span><&#47;span><&#47;li>
<li class="alt"><span>52=><span class="keyword">array<&#47;span><span>(5,29,30,29,30,29,30,29,30,30,29,30,29,30,9,5),&nbsp;&nbsp;<&#47;span><&#47;span><&#47;li>
<li class=""><span>53=><span class="keyword">array<&#47;span><span>(0,29,30,29,29,30,30,29,30,30,29,30,29,0,10,6),&nbsp;&nbsp;<&#47;span><&#47;span><&#47;li>
<li class="alt"><span>54=><span class="keyword">array<&#47;span><span>(0,30,29,30,29,29,30,29,30,30,29,30,30,0,1,7),&nbsp;&nbsp;<&#47;span><&#47;span><&#47;li>
<li class=""><span>55=><span class="keyword">array<&#47;span><span>(3,29,30,29,30,29,29,30,29,30,29,30,30,30,2,8),&nbsp;&nbsp;<&#47;span><&#47;span><&#47;li>
<li class="alt"><span>56=><span class="keyword">array<&#47;span><span>(0,29,30,29,30,29,29,30,29,30,29,30,30,0,3,9),&nbsp;&nbsp;<&#47;span><&#47;span><&#47;li>
<li class=""><span>57=><span class="keyword">array<&#47;span><span>(8,30,29,30,29,30,29,29,30,29,30,29,30,29,4,10),&nbsp;&nbsp;<&#47;span><&#47;span><&#47;li>
<li class="alt"><span>58=><span class="keyword">array<&#47;span><span>(0,30,30,30,29,30,29,29,30,29,30,29,30,0,5,11),&nbsp;&nbsp;<&#47;span><&#47;span><&#47;li>
<li class=""><span>59=><span class="keyword">array<&#47;span><span>(0,29,30,30,29,30,29,30,29,30,29,30,29,0,6,12),&nbsp;&nbsp;<&#47;span><&#47;span><&#47;li>
<li class="alt"><span>60=><span class="keyword">array<&#47;span><span>(6,30,29,30,29,30,30,29,30,29,30,29,30,29,7,1),&nbsp;&nbsp;<&#47;span><&#47;span><&#47;li>
<li class=""><span>61=><span class="keyword">array<&#47;span><span>(0,30,29,30,29,30,29,30,30,29,30,29,30,0,8,2),&nbsp;&nbsp;<&#47;span><&#47;span><&#47;li>
<li class="alt"><span>62=><span class="keyword">array<&#47;span><span>(0,29,30,29,29,30,29,30,30,29,30,30,29,0,9,3),&nbsp;&nbsp;<&#47;span><&#47;span><&#47;li>
<li class=""><span>63=><span class="keyword">array<&#47;span><span>(4,30,29,30,29,29,30,29,30,29,30,30,30,29,10,4),&nbsp;&nbsp;<&#47;span><&#47;span><&#47;li>
<li class="alt"><span>64=><span class="keyword">array<&#47;span><span>(0,30,29,30,29,29,30,29,30,29,30,30,30,0,1,5),&nbsp;&nbsp;<&#47;span><&#47;span><&#47;li>
<li class=""><span>65=><span class="keyword">array<&#47;span><span>(0,29,30,29,30,29,29,30,29,29,30,30,29,0,2,6),&nbsp;&nbsp;<&#47;span><&#47;span><&#47;li>
<li class="alt"><span>66=><span class="keyword">array<&#47;span><span>(3,30,30,30,29,30,29,29,30,29,29,30,30,29,3,7),&nbsp;&nbsp;<&#47;span><&#47;span><&#47;li>
<li class=""><span>67=><span class="keyword">array<&#47;span><span>(0,30,30,29,30,30,29,29,30,29,30,29,30,0,4,8),&nbsp;&nbsp;<&#47;span><&#47;span><&#47;li>
<li class="alt"><span>68=><span class="keyword">array<&#47;span><span>(7,29,30,29,30,30,29,30,29,30,29,30,29,30,5,9),&nbsp;&nbsp;<&#47;span><&#47;span><&#47;li>
<li class=""><span>69=><span class="keyword">array<&#47;span><span>(0,29,30,29,30,29,30,30,29,30,29,30,29,0,6,10),&nbsp;&nbsp;<&#47;span><&#47;span><&#47;li>
<li class="alt"><span>70=><span class="keyword">array<&#47;span><span>(0,30,29,29,30,29,30,30,29,30,30,29,30,0,7,11),&nbsp;&nbsp;<&#47;span><&#47;span><&#47;li>
<li class=""><span>71=><span class="keyword">array<&#47;span><span>(5,29,30,29,29,30,29,30,29,30,30,30,29,30,8,12),&nbsp;&nbsp;<&#47;span><&#47;span><&#47;li>
<li class="alt"><span>72=><span class="keyword">array<&#47;span><span>(0,29,30,29,29,30,29,30,29,30,30,29,30,0,9,1),&nbsp;&nbsp;<&#47;span><&#47;span><&#47;li>
<li class=""><span>73=><span class="keyword">array<&#47;span><span>(0,30,29,30,29,29,30,29,29,30,30,29,30,0,10,2),&nbsp;&nbsp;<&#47;span><&#47;span><&#47;li>
<li class="alt"><span>74=><span class="keyword">array<&#47;span><span>(4,30,30,29,30,29,29,30,29,29,30,30,29,30,1,3),&nbsp;&nbsp;<&#47;span><&#47;span><&#47;li>
<li class=""><span>75=><span class="keyword">array<&#47;span><span>(0,30,30,29,30,29,29,30,29,29,30,29,30,0,2,4),&nbsp;&nbsp;<&#47;span><&#47;span><&#47;li>
<li class="alt"><span>76=><span class="keyword">array<&#47;span><span>(8,30,30,29,30,29,30,29,30,29,29,30,29,30,3,5),&nbsp;&nbsp;<&#47;span><&#47;span><&#47;li>
<li class=""><span>77=><span class="keyword">array<&#47;span><span>(0,30,29,30,30,29,30,29,30,29,30,29,29,0,4,6),&nbsp;&nbsp;<&#47;span><&#47;span><&#47;li>
<li class="alt"><span>78=><span class="keyword">array<&#47;span><span>(0,30,29,30,30,29,30,30,29,30,29,30,29,0,5,7),&nbsp;&nbsp;<&#47;span><&#47;span><&#47;li>
<li class=""><span>79=><span class="keyword">array<&#47;span><span>(6,30,29,29,30,29,30,30,29,30,30,29,30,29,6,8),&nbsp;&nbsp;<&#47;span><&#47;span><&#47;li>
<li class="alt"><span>80=><span class="keyword">array<&#47;span><span>(0,30,29,29,30,29,30,29,30,30,29,30,30,0,7,9),&nbsp;&nbsp;<&#47;span><&#47;span><&#47;li>
<li class=""><span>81=><span class="keyword">array<&#47;span><span>(0,29,30,29,29,30,29,29,30,30,29,30,30,0,8,10),&nbsp;&nbsp;<&#47;span><&#47;span><&#47;li>
<li class="alt"><span>82=><span class="keyword">array<&#47;span><span>(4,30,29,30,29,29,30,29,29,30,29,30,30,30,9,11),&nbsp;&nbsp;<&#47;span><&#47;span><&#47;li>
<li class=""><span>83=><span class="keyword">array<&#47;span><span>(0,30,29,30,29,29,30,29,29,30,29,30,30,0,10,12),&nbsp;&nbsp;<&#47;span><&#47;span><&#47;li>
<li class="alt"><span>84=><span class="keyword">array<&#47;span><span>(10,30,29,30,30,29,29,30,29,29,30,29,30,30,1,1),&nbsp;&nbsp;<&#47;span><&#47;span><&#47;li>
<li class=""><span>85=><span class="keyword">array<&#47;span><span>(0,29,30,30,29,30,29,30,29,29,30,29,30,0,2,2),&nbsp;&nbsp;<&#47;span><&#47;span><&#47;li>
<li class="alt"><span>86=><span class="keyword">array<&#47;span><span>(0,29,30,30,29,30,30,29,30,29,30,29,29,0,3,3),&nbsp;&nbsp;<&#47;span><&#47;span><&#47;li>
<li class=""><span>87=><span class="keyword">array<&#47;span><span>(6,30,29,30,29,30,30,29,30,30,29,30,29,29,4,4),&nbsp;&nbsp;<&#47;span><&#47;span><&#47;li>
<li class="alt"><span>88=><span class="keyword">array<&#47;span><span>(0,30,29,30,29,30,29,30,30,29,30,30,29,0,5,5),&nbsp;&nbsp;<&#47;span><&#47;span><&#47;li>
<li class=""><span>89=><span class="keyword">array<&#47;span><span>(0,30,29,29,30,29,29,30,30,29,30,30,30,0,6,6),&nbsp;&nbsp;<&#47;span><&#47;span><&#47;li>
<li class="alt"><span>90=><span class="keyword">array<&#47;span><span>(5,29,30,29,29,30,29,29,30,29,30,30,30,30,7,7),&nbsp;&nbsp;<&#47;span><&#47;span><&#47;li>
<li class=""><span>91=><span class="keyword">array<&#47;span><span>(0,29,30,29,29,30,29,29,30,29,30,30,30,0,8,8),&nbsp;&nbsp;<&#47;span><&#47;span><&#47;li>
<li class="alt"><span>92=><span class="keyword">array<&#47;span><span>(0,29,30,30,29,29,30,29,29,30,29,30,30,0,9,9),&nbsp;&nbsp;<&#47;span><&#47;span><&#47;li>
<li class=""><span>93=><span class="keyword">array<&#47;span><span>(3,29,30,30,29,30,29,30,29,29,30,29,30,29,10,10),&nbsp;&nbsp;<&#47;span><&#47;span><&#47;li>
<li class="alt"><span>94=><span class="keyword">array<&#47;span><span>(0,30,30,30,29,30,29,30,29,29,30,29,30,0,1,11),&nbsp;&nbsp;<&#47;span><&#47;span><&#47;li>
<li class=""><span>95=><span class="keyword">array<&#47;span><span>(8,29,30,30,29,30,29,30,30,29,29,30,29,30,2,12),&nbsp;&nbsp;<&#47;span><&#47;span><&#47;li>
<li class="alt"><span>96=><span class="keyword">array<&#47;span><span>(0,29,30,29,30,30,29,30,29,30,30,29,29,0,3,1),&nbsp;&nbsp;<&#47;span><&#47;span><&#47;li>
<li class=""><span>97=><span class="keyword">array<&#47;span><span>(0,30,29,30,29,30,29,30,30,29,30,30,29,0,4,2),&nbsp;&nbsp;<&#47;span><&#47;span><&#47;li>
<li class="alt"><span>98=><span class="keyword">array<&#47;span><span>(5,30,29,29,30,29,29,30,30,29,30,30,29,30,5,3),&nbsp;&nbsp;<&#47;span><&#47;span><&#47;li>
<li class=""><span>99=><span class="keyword">array<&#47;span><span>(0,30,29,29,30,29,29,30,29,30,30,30,29,0,6,4),&nbsp;&nbsp;<&#47;span><&#47;span><&#47;li>
<li class="alt"><span>100=><span class="keyword">array<&#47;span><span>(0,30,30,29,29,30,29,29,30,29,30,30,29,0,7,5),&nbsp;&nbsp;<&#47;span><&#47;span><&#47;li>
<li class=""><span>101=><span class="keyword">array<&#47;span><span>(4,30,30,29,30,29,30,29,29,30,29,30,29,30,8,6),&nbsp;&nbsp;<&#47;span><&#47;span><&#47;li>
<li class="alt"><span>102=><span class="keyword">array<&#47;span><span>(0,30,30,29,30,29,30,29,29,30,29,30,29,0,9,7),&nbsp;&nbsp;<&#47;span><&#47;span><&#47;li>
<li class=""><span>103=><span class="keyword">array<&#47;span><span>(0,30,30,29,30,30,29,30,29,29,30,29,30,0,10,8),&nbsp;&nbsp;<&#47;span><&#47;span><&#47;li>
<li class="alt"><span>104=><span class="keyword">array<&#47;span><span>(2,29,30,29,30,30,29,30,29,30,29,30,29,30,1,9),&nbsp;&nbsp;<&#47;span><&#47;span><&#47;li>
<li class=""><span>105=><span class="keyword">array<&#47;span><span>(0,29,30,29,30,29,30,30,29,30,29,30,29,0,2,10),&nbsp;&nbsp;<&#47;span><&#47;span><&#47;li>
<li class="alt"><span>106=><span class="keyword">array<&#47;span><span>(7,30,29,30,29,30,29,30,29,30,30,29,30,30,3,11),&nbsp;&nbsp;<&#47;span><&#47;span><&#47;li>
<li class=""><span>107=><span class="keyword">array<&#47;span><span>(0,29,29,30,29,29,30,29,30,30,30,29,30,0,4,12),&nbsp;&nbsp;<&#47;span><&#47;span><&#47;li>
<li class="alt"><span>108=><span class="keyword">array<&#47;span><span>(0,30,29,29,30,29,29,30,29,30,30,29,30,0,5,1),&nbsp;&nbsp;<&#47;span><&#47;span><&#47;li>
<li class=""><span>109=><span class="keyword">array<&#47;span><span>(5,30,30,29,29,30,29,29,30,29,30,29,30,30,6,2),&nbsp;&nbsp;<&#47;span><&#47;span><&#47;li>
<li class="alt"><span>110=><span class="keyword">array<&#47;span><span>(0,30,29,30,29,30,29,29,30,29,30,29,30,0,7,3),&nbsp;&nbsp;<&#47;span><&#47;span><&#47;li>
<li class=""><span>111=><span class="keyword">array<&#47;span><span>(0,30,29,30,30,29,30,29,29,30,29,30,29,0,8,4),&nbsp;&nbsp;<&#47;span><&#47;span><&#47;li>
<li class="alt"><span>112=><span class="keyword">array<&#47;span><span>(4,30,29,30,30,29,30,29,30,29,30,29,30,29,9,5),&nbsp;&nbsp;<&#47;span><&#47;span><&#47;li>
<li class=""><span>113=><span class="keyword">array<&#47;span><span>(0,30,29,30,29,30,30,29,30,29,30,29,30,0,10,6),&nbsp;&nbsp;<&#47;span><&#47;span><&#47;li>
<li class="alt"><span>114=><span class="keyword">array<&#47;span><span>(9,29,30,29,30,29,30,29,30,30,29,30,29,30,1,7),&nbsp;&nbsp;<&#47;span><&#47;span><&#47;li>
<li class=""><span>115=><span class="keyword">array<&#47;span><span>(0,29,30,29,29,30,29,30,30,30,29,30,29,0,2,8),&nbsp;&nbsp;<&#47;span><&#47;span><&#47;li>
<li class="alt"><span>116=><span class="keyword">array<&#47;span><span>(0,30,29,30,29,29,30,29,30,30,29,30,30,0,3,9),&nbsp;&nbsp;<&#47;span><&#47;span><&#47;li>
<li class=""><span>117=><span class="keyword">array<&#47;span><span>(6,29,30,29,30,29,29,30,29,30,29,30,30,30,4,10),&nbsp;&nbsp;<&#47;span><&#47;span><&#47;li>
<li class="alt"><span>118=><span class="keyword">array<&#47;span><span>(0,29,30,29,30,29,29,30,29,30,29,30,30,0,5,11),&nbsp;&nbsp;<&#47;span><&#47;span><&#47;li>
<li class=""><span>119=><span class="keyword">array<&#47;span><span>(0,30,29,30,29,30,29,29,30,29,29,30,30,0,6,12),&nbsp;&nbsp;<&#47;span><&#47;span><&#47;li>
<li class="alt"><span>120=><span class="keyword">array<&#47;span><span>(4,29,30,30,30,29,30,29,29,30,29,30,29,30,7,1)&nbsp;&nbsp;<&#47;span><&#47;span><&#47;li>
<li class=""><span>&nbsp;&nbsp;<&#47;span><&#47;li>
<li class="alt"><span>);&nbsp;&nbsp;<&#47;span><&#47;li>
<li class=""><span>##############################&nbsp;&nbsp;<&#47;span><&#47;li>
<li class="alt"><span>&nbsp;&nbsp;<&#47;span><&#47;li>
<li class=""><span>#农历天干&nbsp;&nbsp;<&#47;span><&#47;li>
<li class="alt"><span>&nbsp;&nbsp;<&#47;span><&#47;li>
<li class=""><span><span class="vars">$mten<&#47;span><span>=<&#47;span><span class="keyword">array<&#47;span><span>(<&#47;span><span class="string">"null"<&#47;span><span>,<&#47;span><span class="string">"甲"<&#47;span><span>,<&#47;span><span class="string">"乙"<&#47;span><span>,<&#47;span><span class="string">"丙"<&#47;span><span>,<&#47;span><span class="string">"丁"<&#47;span><span>,<&#47;span><span class="string">"戊"<&#47;span><span>,<&#47;span><span class="string">"己"<&#47;span><span>,<&#47;span><span class="string">"庚"<&#47;span><span>,<&#47;span><span class="string">"辛"<&#47;span><span>,<&#47;span><span class="string">"壬"<&#47;span><span>,<&#47;span><span class="string">"癸"<&#47;span><span>);&nbsp;&nbsp;<&#47;span><&#47;span><&#47;li>
<li class="alt"><span>#农历地支&nbsp;&nbsp;<&#47;span><&#47;li>
<li class=""><span>&nbsp;&nbsp;<&#47;span><&#47;li>
<li class="alt"><span><span class="vars">$mtwelve<&#47;span><span>=<&#47;span><span class="keyword">array<&#47;span><span>(<&#47;span><span class="string">"null"<&#47;span><span>,<&#47;span><span class="string">"子(鼠)"<&#47;span><span>,<&#47;span><span class="string">"丑(牛)"<&#47;span><span>,<&#47;span><span class="string">"寅(虎)"<&#47;span><span>,<&#47;span><span class="string">"卯(兔)"<&#47;span><span>,<&#47;span><span class="string">"辰(龙)"<&#47;span><span>,&nbsp;&nbsp;<&#47;span><&#47;span><&#47;li>
<li class=""><span><span class="string">"巳(蛇)"<&#47;span><span>,<&#47;span><span class="string">"午(马)"<&#47;span><span>,<&#47;span><span class="string">"未(羊)"<&#47;span><span>,<&#47;span><span class="string">"申(猴)"<&#47;span><span>,<&#47;span><span class="string">"酉(鸡)"<&#47;span><span>,<&#47;span><span class="string">"戌(狗)"<&#47;span><span>,<&#47;span><span class="string">"亥(猪)"<&#47;span><span>);&nbsp;&nbsp;<&#47;span><&#47;span><&#47;li>
<li class="alt"><span>#农历月份&nbsp;&nbsp;<&#47;span><&#47;li>
<li class=""><span>&nbsp;&nbsp;<&#47;span><&#47;li>
<li class="alt"><span><span class="vars">$mmonth<&#47;span><span>=<&#47;span><span class="keyword">array<&#47;span><span>(<&#47;span><span class="string">"闰"<&#47;span><span>,<&#47;span><span class="string">"正"<&#47;span><span>,<&#47;span><span class="string">"二"<&#47;span><span>,<&#47;span><span class="string">"三"<&#47;span><span>,<&#47;span><span class="string">"四"<&#47;span><span>,<&#47;span><span class="string">"五"<&#47;span><span>,<&#47;span><span class="string">"六"<&#47;span><span>,&nbsp;&nbsp;<&#47;span><&#47;span><&#47;li>
<li class=""><span><span class="string">"七"<&#47;span><span>,<&#47;span><span class="string">"八"<&#47;span><span>,<&#47;span><span class="string">"九"<&#47;span><span>,<&#47;span><span class="string">"十"<&#47;span><span>,<&#47;span><span class="string">"十一"<&#47;span><span>,<&#47;span><span class="string">"十二"<&#47;span><span>,<&#47;span><span class="string">"月"<&#47;span><span>);&nbsp;&nbsp;<&#47;span><&#47;span><&#47;li>
<li class="alt"><span>#农历日&nbsp;&nbsp;<&#47;span><&#47;li>
<li class=""><span>&nbsp;&nbsp;<&#47;span><&#47;li>
<li class="alt"><span><span class="vars">$mday<&#47;span><span>=<&#47;span><span class="keyword">array<&#47;span><span>(<&#47;span><span class="string">"null"<&#47;span><span>,<&#47;span><span class="string">"初一"<&#47;span><span>,<&#47;span><span class="string">"初二"<&#47;span><span>,<&#47;span><span class="string">"初三"<&#47;span><span>,<&#47;span><span class="string">"初四"<&#47;span><span>,<&#47;span><span class="string">"初五"<&#47;span><span>,<&#47;span><span class="string">"初六"<&#47;span><span>,<&#47;span><span class="string">"初七"<&#47;span><span>,<&#47;span><span class="string">"初八"<&#47;span><span>,<&#47;span><span class="string">"初九"<&#47;span><span>,<&#47;span><span class="string">"初十"<&#47;span><span>,&nbsp;&nbsp;<&#47;span><&#47;span><&#47;li>
<li class=""><span><span class="string">"十一"<&#47;span><span>,<&#47;span><span class="string">"十二"<&#47;span><span>,<&#47;span><span class="string">"十三"<&#47;span><span>,<&#47;span><span class="string">"十四"<&#47;span><span>,<&#47;span><span class="string">"十五"<&#47;span><span>,<&#47;span><span class="string">"十六"<&#47;span><span>,<&#47;span><span class="string">"十七"<&#47;span><span>,<&#47;span><span class="string">"十八"<&#47;span><span>,<&#47;span><span class="string">"十九"<&#47;span><span>,<&#47;span><span class="string">"二十"<&#47;span><span>,&nbsp;&nbsp;<&#47;span><&#47;span><&#47;li>
<li class="alt"><span><span class="string">"廿一"<&#47;span><span>,<&#47;span><span class="string">"廿二"<&#47;span><span>,<&#47;span><span class="string">"廿三"<&#47;span><span>,<&#47;span><span class="string">"廿四"<&#47;span><span>,<&#47;span><span class="string">"廿五"<&#47;span><span>,<&#47;span><span class="string">"廿六"<&#47;span><span>,<&#47;span><span class="string">"廿七"<&#47;span><span>,<&#47;span><span class="string">"廿八"<&#47;span><span>,<&#47;span><span class="string">"廿九"<&#47;span><span>,<&#47;span><span class="string">"三十"<&#47;span><span>);&nbsp;&nbsp;<&#47;span><&#47;span><&#47;li>
<li class=""><span>##############################&nbsp;&nbsp;<&#47;span><&#47;li>
<li class="alt"><span>&nbsp;&nbsp;<&#47;span><&#47;li>
<li class=""><span>#星期&nbsp;&nbsp;<&#47;span><&#47;li>
<li class="alt"><span>&nbsp;&nbsp;<&#47;span><&#47;li>
<li class=""><span><span class="vars">$weekday<&#47;span><span>&nbsp;=&nbsp;<&#47;span><span class="keyword">array<&#47;span><span>(<&#47;span><span class="string">"星期日"<&#47;span><span>,<&#47;span><span class="string">"星期一"<&#47;span><span>,<&#47;span><span class="string">"星期二"<&#47;span><span>,<&#47;span><span class="string">"星期三"<&#47;span><span>,<&#47;span><span class="string">"星期四"<&#47;span><span>,<&#47;span><span class="string">"星期五"<&#47;span><span>,<&#47;span><span class="string">"星期六"<&#47;span><span>);&nbsp;&nbsp;<&#47;span><&#47;span><&#47;li>
<li class="alt"><span>#阳历总天数&nbsp;至1900年12月21日&nbsp;&nbsp;<&#47;span><&#47;li>
<li class=""><span>&nbsp;&nbsp;<&#47;span><&#47;li>
<li class="alt"><span><span class="vars">$total<&#47;span><span>=11;&nbsp;&nbsp;<&#47;span><&#47;span><&#47;li>
<li class=""><span>#阴历总天数&nbsp;&nbsp;<&#47;span><&#47;li>
<li class="alt"><span>&nbsp;&nbsp;<&#47;span><&#47;li>
<li class=""><span><span class="vars">$mtotal<&#47;span><span>=0;&nbsp;&nbsp;<&#47;span><&#47;span><&#47;li>
<li class="alt"><span>##############################&nbsp;&nbsp;<&#47;span><&#47;li>
<li class=""><span>&nbsp;&nbsp;<&#47;span><&#47;li>
<li class="alt"><span>#获得当日日期&nbsp;&nbsp;<&#47;span><&#47;li>
<li class=""><span>&nbsp;&nbsp;<&#47;span><&#47;li>
<li class="alt"><span><span class="vars">$today<&#47;span><span>=<&#47;span><span class="func">getdate<&#47;span><span>();&nbsp;&nbsp;<&#47;span><&#47;span><&#47;li>
<li class=""><span><span class="keyword">if<&#47;span><span>(<&#47;span><span class="vars">$today<&#47;span><span>[<&#47;span><span class="string">"year"<&#47;span><span>]<1901&nbsp;||&nbsp;<&#47;span><span class="vars">$today<&#47;span><span>[<&#47;span><span class="string">"year"<&#47;span><span>]>2020)&nbsp;<&#47;span><span class="keyword">die<&#47;span><span>(<&#47;span><span class="string">"年份出错！"<&#47;span><span>);&nbsp;&nbsp;<&#47;span><&#47;span><&#47;li>
<li class="alt"><span><span class="vars">$cur_wday<&#47;span><span>=<&#47;span><span class="vars">$today<&#47;span><span>[<&#47;span><span class="string">"wday"<&#47;span><span>];&nbsp;&nbsp;<&#47;span><&#47;span><&#47;li>
<li class=""><span><span class="keyword">for<&#47;span><span>(<&#47;span><span class="vars">$y<&#47;span><span>=1901;<&#47;span><span class="vars">$y<&#47;span><span><<&#47;span><span class="vars">$today<&#47;span><span>[<&#47;span><span class="string">"year"<&#47;span><span>];<&#47;span><span class="vars">$y<&#47;span><span>++)&nbsp;{&nbsp;<&#47;span><span class="comment">&#47;&#47;计算到所求日期阳历的总天数-自1900年12月21日始,先算年的和<&#47;span><span>&nbsp;&nbsp;<&#47;span><&#47;span><&#47;li>
<li class="alt"><span>&nbsp;&nbsp;<&#47;span><&#47;li>
<li class=""><span><span class="vars">$total<&#47;span><span>+=365;&nbsp;&nbsp;<&#47;span><&#47;span><&#47;li>
<li class="alt"><span><span class="keyword">if<&#47;span><span>&nbsp;(<&#47;span><span class="vars">$y<&#47;span><span>%4==0)&nbsp;<&#47;span><span class="vars">$total<&#47;span><span>++;&nbsp;&nbsp;<&#47;span><&#47;span><&#47;li>
<li class=""><span>}&nbsp;&nbsp;<&#47;span><&#47;li>
<li class="alt"><span>&nbsp;&nbsp;<&#47;span><&#47;li>
<li class=""><span><span class="keyword">switch<&#47;span><span>(<&#47;span><span class="vars">$today<&#47;span><span>[<&#47;span><span class="string">"mon"<&#47;span><span>])&nbsp;{&nbsp;<&#47;span><span class="comment">&#47;&#47;再加当年的几个月<&#47;span><span>&nbsp;&nbsp;<&#47;span><&#47;span><&#47;li>
<li class="alt"><span>&nbsp;&nbsp;<&#47;span><&#47;li>
<li class=""><span><span class="keyword">case<&#47;span><span>&nbsp;12:&nbsp;&nbsp;<&#47;span><&#47;span><&#47;li>
<li class="alt"><span>&nbsp;&nbsp;<&#47;span><&#47;li>
<li class=""><span><span class="vars">$total<&#47;span><span>+=30;&nbsp;&nbsp;<&#47;span><&#47;span><&#47;li>
<li class="alt"><span><span class="keyword">case<&#47;span><span>&nbsp;11:&nbsp;&nbsp;<&#47;span><&#47;span><&#47;li>
<li class=""><span>&nbsp;&nbsp;<&#47;span><&#47;li>
<li class="alt"><span><span class="vars">$total<&#47;span><span>+=31;&nbsp;&nbsp;<&#47;span><&#47;span><&#47;li>
<li class=""><span><span class="keyword">case<&#47;span><span>&nbsp;10:&nbsp;&nbsp;<&#47;span><&#47;span><&#47;li>
<li class="alt"><span>&nbsp;&nbsp;<&#47;span><&#47;li>
<li class=""><span><span class="vars">$total<&#47;span><span>+=30;&nbsp;&nbsp;<&#47;span><&#47;span><&#47;li>
<li class="alt"><span><span class="keyword">case<&#47;span><span>&nbsp;9:&nbsp;&nbsp;<&#47;span><&#47;span><&#47;li>
<li class=""><span>&nbsp;&nbsp;<&#47;span><&#47;li>
<li class="alt"><span><span class="vars">$total<&#47;span><span>+=31;&nbsp;&nbsp;<&#47;span><&#47;span><&#47;li>
<li class=""><span><span class="keyword">case<&#47;span><span>&nbsp;8:&nbsp;&nbsp;<&#47;span><&#47;span><&#47;li>
<li class="alt"><span>&nbsp;&nbsp;<&#47;span><&#47;li>
<li class=""><span><span class="vars">$total<&#47;span><span>+=31;&nbsp;&nbsp;<&#47;span><&#47;span><&#47;li>
<li class="alt"><span><span class="keyword">case<&#47;span><span>&nbsp;7:&nbsp;&nbsp;<&#47;span><&#47;span><&#47;li>
<li class=""><span>&nbsp;&nbsp;<&#47;span><&#47;li>
<li class="alt"><span><span class="vars">$total<&#47;span><span>+=30;&nbsp;&nbsp;<&#47;span><&#47;span><&#47;li>
<li class=""><span><span class="keyword">case<&#47;span><span>&nbsp;6:&nbsp;&nbsp;<&#47;span><&#47;span><&#47;li>
<li class="alt"><span>&nbsp;&nbsp;<&#47;span><&#47;li>
<li class=""><span><span class="vars">$total<&#47;span><span>+=31;&nbsp;&nbsp;<&#47;span><&#47;span><&#47;li>
<li class="alt"><span><span class="keyword">case<&#47;span><span>&nbsp;5:&nbsp;&nbsp;<&#47;span><&#47;span><&#47;li>
<li class=""><span>&nbsp;&nbsp;<&#47;span><&#47;li>
<li class="alt"><span><span class="vars">$total<&#47;span><span>+=30;&nbsp;&nbsp;<&#47;span><&#47;span><&#47;li>
<li class=""><span><span class="keyword">case<&#47;span><span>&nbsp;4:&nbsp;&nbsp;<&#47;span><&#47;span><&#47;li>
<li class="alt"><span>&nbsp;&nbsp;<&#47;span><&#47;li>
<li class=""><span><span class="vars">$total<&#47;span><span>+=31;&nbsp;&nbsp;<&#47;span><&#47;span><&#47;li>
<li class="alt"><span><span class="keyword">case<&#47;span><span>&nbsp;3:&nbsp;&nbsp;<&#47;span><&#47;span><&#47;li>
<li class=""><span>&nbsp;&nbsp;<&#47;span><&#47;li>
<li class="alt"><span><span class="vars">$total<&#47;span><span>+=28;&nbsp;&nbsp;<&#47;span><&#47;span><&#47;li>
<li class=""><span><span class="keyword">case<&#47;span><span>&nbsp;2:&nbsp;&nbsp;<&#47;span><&#47;span><&#47;li>
<li class="alt"><span>&nbsp;&nbsp;<&#47;span><&#47;li>
<li class=""><span><span class="vars">$total<&#47;span><span>+=31;&nbsp;&nbsp;<&#47;span><&#47;span><&#47;li>
<li class="alt"><span>}&nbsp;&nbsp;<&#47;span><&#47;li>
<li class=""><span>&nbsp;&nbsp;<&#47;span><&#47;li>
<li class="alt"><span><span class="keyword">if<&#47;span><span>(<&#47;span><span class="vars">$today<&#47;span><span>[<&#47;span><span class="string">"year"<&#47;span><span>]%4&nbsp;==&nbsp;0&nbsp;&amp;&amp;&nbsp;<&#47;span><span class="vars">$today<&#47;span><span>[<&#47;span><span class="string">"mon"<&#47;span><span>]>2)&nbsp;<&#47;span><span class="vars">$total<&#47;span><span>++;&nbsp;<&#47;span><span class="comment">&#47;&#47;如果当年是闰年还要加一天<&#47;span><span>&nbsp;&nbsp;<&#47;span><&#47;span><&#47;li>
<li class=""><span>&nbsp;&nbsp;<&#47;span><&#47;li>
<li class="alt"><span><span class="vars">$total<&#47;span><span>=<&#47;span><span class="vars">$total<&#47;span><span>+<&#47;span><span class="vars">$today<&#47;span><span>[<&#47;span><span class="string">"mday"<&#47;span><span>]-1;&nbsp;<&#47;span><span class="comment">&#47;&#47;加当月的天数<&#47;span><span>&nbsp;&nbsp;<&#47;span><&#47;span><&#47;li>
<li class=""><span>&nbsp;&nbsp;<&#47;span><&#47;li>
<li class="alt"><span><span class="vars">$flag1<&#47;span><span>=0;&nbsp;<&#47;span><span class="comment">&#47;&#47;判断跳出循环的条件<&#47;span><span>&nbsp;&nbsp;<&#47;span><&#47;span><&#47;li>
<li class=""><span>&nbsp;&nbsp;<&#47;span><&#47;li>
<li class="alt"><span><span class="vars">$j<&#47;span><span>=0;&nbsp;&nbsp;<&#47;span><&#47;span><&#47;li>
<li class=""><span><span class="keyword">while<&#47;span><span>&nbsp;(<&#47;span><span class="vars">$j<&#47;span><span><=120){&nbsp;<&#47;span><span class="comment">&#47;&#47;用农历的天数累加来判断是否超过阳历的天数<&#47;span><span>&nbsp;&nbsp;<&#47;span><&#47;span><&#47;li>
<li class="alt"><span>&nbsp;&nbsp;<&#47;span><&#47;li>
<li class=""><span><span class="vars">$i<&#47;span><span>=1;&nbsp;&nbsp;<&#47;span><&#47;span><&#47;li>
<li class="alt"><span><span class="keyword">while<&#47;span><span>&nbsp;(<&#47;span><span class="vars">$i<&#47;span><span><=13){&nbsp;&nbsp;<&#47;span><&#47;span><&#47;li>
<li class=""><span>&nbsp;&nbsp;<&#47;span><&#47;li>
<li class="alt"><span><span class="vars">$mtotal<&#47;span><span>+=<&#47;span><span class="vars">$everymonth<&#47;span><span>[<&#47;span><span class="vars">$j<&#47;span><span>][<&#47;span><span class="vars">$i<&#47;span><span>];&nbsp;&nbsp;<&#47;span><&#47;span><&#47;li>
<li class=""><span><span class="keyword">if<&#47;span><span>&nbsp;(<&#47;span><span class="vars">$mtotal<&#47;span><span>>=<&#47;span><span class="vars">$total<&#47;span><span>){&nbsp;&nbsp;<&#47;span><&#47;span><&#47;li>
<li class="alt"><span>&nbsp;&nbsp;<&#47;span><&#47;li>
<li class=""><span><span class="vars">$flag1<&#47;span><span>=1;&nbsp;&nbsp;<&#47;span><&#47;span><&#47;li>
<li class="alt"><span><span class="keyword">break<&#47;span><span>;&nbsp;&nbsp;<&#47;span><&#47;span><&#47;li>
<li class=""><span>}&nbsp;&nbsp;<&#47;span><&#47;li>
<li class="alt"><span>&nbsp;&nbsp;<&#47;span><&#47;li>
<li class=""><span><span class="vars">$i<&#47;span><span>++;&nbsp;&nbsp;<&#47;span><&#47;span><&#47;li>
<li class="alt"><span>}&nbsp;&nbsp;<&#47;span><&#47;li>
<li class=""><span>&nbsp;&nbsp;<&#47;span><&#47;li>
<li class="alt"><span><span class="keyword">if<&#47;span><span>&nbsp;(<&#47;span><span class="vars">$flag1<&#47;span><span>==1)&nbsp;<&#47;span><span class="keyword">break<&#47;span><span>;&nbsp;&nbsp;<&#47;span><&#47;span><&#47;li>
<li class=""><span><span class="vars">$j<&#47;span><span>++;&nbsp;&nbsp;<&#47;span><&#47;span><&#47;li>
<li class="alt"><span>}&nbsp;&nbsp;<&#47;span><&#47;li>
<li class=""><span>&nbsp;&nbsp;<&#47;span><&#47;li>
<li class="alt"><span><span class="keyword">if<&#47;span><span>(<&#47;span><span class="vars">$everymonth<&#47;span><span>[<&#47;span><span class="vars">$j<&#47;span><span>][0]<>0&nbsp;<&#47;span><span class="keyword">and<&#47;span><span>&nbsp;<&#47;span><span class="vars">$everymonth<&#47;span><span>[<&#47;span><span class="vars">$j<&#47;span><span>][0]<<&#47;span><span class="vars">$i<&#47;span><span>){&nbsp;<&#47;span><span class="comment">&#47;&#47;原来错在这里，对闰月没有修补<&#47;span><span>&nbsp;&nbsp;<&#47;span><&#47;span><&#47;li>
<li class=""><span>&nbsp;&nbsp;<&#47;span><&#47;li>
<li class="alt"><span><span class="vars">$mm<&#47;span><span>=<&#47;span><span class="vars">$i<&#47;span><span>-1;&nbsp;&nbsp;<&#47;span><&#47;span><&#47;li>
<li class=""><span>}&nbsp;&nbsp;<&#47;span><&#47;li>
<li class="alt"><span>&nbsp;&nbsp;<&#47;span><&#47;li>
<li class=""><span><span class="keyword">else<&#47;span><span>{&nbsp;&nbsp;<&#47;span><&#47;span><&#47;li>
<li class="alt"><span>&nbsp;&nbsp;<&#47;span><&#47;li>
<li class=""><span><span class="vars">$mm<&#47;span><span>=<&#47;span><span class="vars">$i<&#47;span><span>;&nbsp;&nbsp;<&#47;span><&#47;span><&#47;li>
<li class="alt"><span>}&nbsp;&nbsp;<&#47;span><&#47;li>
<li class=""><span>&nbsp;&nbsp;<&#47;span><&#47;li>
<li class="alt"><span><span class="keyword">if<&#47;span><span>(<&#47;span><span class="vars">$i<&#47;span><span>==<&#47;span><span class="vars">$everymonth<&#47;span><span>[<&#47;span><span class="vars">$j<&#47;span><span>][0]+1&nbsp;<&#47;span><span class="keyword">and<&#47;span><span>&nbsp;<&#47;span><span class="vars">$everymonth<&#47;span><span>[<&#47;span><span class="vars">$j<&#47;span><span>][0]<>0)&nbsp;{&nbsp;&nbsp;<&#47;span><&#47;span><&#47;li>
<li class=""><span>&nbsp;&nbsp;<&#47;span><&#47;li>
<li class="alt"><span><span class="vars">$nlmon<&#47;span><span>=<&#47;span><span class="vars">$mmonth<&#47;span><span>[0].<&#47;span><span class="vars">$mmonth<&#47;span><span>[<&#47;span><span class="vars">$mm<&#47;span><span>];#闰月&nbsp;&nbsp;<&#47;span><&#47;span><&#47;li>
<li class=""><span>&nbsp;&nbsp;<&#47;span><&#47;li>
<li class="alt"><span>}&nbsp;&nbsp;<&#47;span><&#47;li>
<li class=""><span>&nbsp;&nbsp;<&#47;span><&#47;li>
<li class="alt"><span><span class="keyword">else<&#47;span><span>&nbsp;{&nbsp;&nbsp;<&#47;span><&#47;span><&#47;li>
<li class=""><span>&nbsp;&nbsp;<&#47;span><&#47;li>
<li class="alt"><span><span class="vars">$nlmon<&#47;span><span>=<&#47;span><span class="vars">$mmonth<&#47;span><span>[<&#47;span><span class="vars">$mm<&#47;span><span>].<&#47;span><span class="vars">$mmonth<&#47;span><span>[13];&nbsp;&nbsp;<&#47;span><&#47;span><&#47;li>
<li class=""><span>}&nbsp;&nbsp;<&#47;span><&#47;li>
<li class="alt"><span>&nbsp;&nbsp;<&#47;span><&#47;li>
<li class=""><span>#计算所求月份1号的农历日期&nbsp;&nbsp;<&#47;span><&#47;li>
<li class="alt"><span>&nbsp;&nbsp;<&#47;span><&#47;li>
<li class=""><span><span class="vars">$md<&#47;span><span>=<&#47;span><span class="vars">$everymonth<&#47;span><span>[<&#47;span><span class="vars">$j<&#47;span><span>][<&#47;span><span class="vars">$i<&#47;span><span>]-(<&#47;span><span class="vars">$mtotal<&#47;span><span>-<&#47;span><span class="vars">$total<&#47;span><span>);<&#47;span><span class="keyword">if<&#47;span><span>(<&#47;span><span class="vars">$md<&#47;span><span>&nbsp;>&nbsp;<&#47;span><span class="vars">$everymonth<&#47;span><span>[<&#47;span><span class="vars">$j<&#47;span><span>][<&#47;span><span class="vars">$i<&#47;span><span>])&nbsp;&nbsp;<&#47;span><&#47;span><&#47;li>
<li class="alt"><span>&nbsp;&nbsp;<&#47;span><&#47;li>
<li class=""><span><span class="vars">$md<&#47;span><span>-=<&#47;span><span class="vars">$everymonth<&#47;span><span>[<&#47;span><span class="vars">$j<&#47;span><span>][<&#47;span><span class="vars">$i<&#47;span><span>];&nbsp;&nbsp;<&#47;span><&#47;span><&#47;li>
<li class="alt"><span><span class="vars">$nlday<&#47;span><span>=<&#47;span><span class="vars">$mday<&#47;span><span>[<&#47;span><span class="vars">$md<&#47;span><span>];&nbsp;&nbsp;<&#47;span><&#47;span><&#47;li>
<li class=""><span><span class="vars">$nowday<&#47;span><span>=<&#47;span><span class="func">date<&#47;span><span>(<&#47;span><span class="string">"Y年n月j日&nbsp;"<&#47;span><span>).<&#47;span><span class="vars">$weekday<&#47;span><span>[<&#47;span><span class="vars">$cur_wday<&#47;span><span>].<&#47;span><span class="string">"<br>"<&#47;span><span>.<&#47;span><span class="vars">$mten<&#47;span><span>[<&#47;span><span class="vars">$everymonth<&#47;span><span>[<&#47;span><span class="vars">$j<&#47;span><span>][14]].<&#47;span><span class="vars">$mtwelve<&#47;span><span>[<&#47;span><span class="vars">$everymonth<&#47;span><span>[<&#47;span><span class="vars">$j<&#47;span><span>][15]].<&#47;span><span class="string">"年"<&#47;span><span>.<&#47;span><span class="vars">$nlmon<&#47;span><span>.<&#47;span><span class="vars">$nlday<&#47;span><span>;&nbsp;&nbsp;<&#47;span><&#47;span><&#47;li>
<li class="alt"><span><span class="func">echo<&#47;span><span>&nbsp;<&#47;span><span class="string">"<font&nbsp;color=#3333ff>$nowday<&#47;font>"<&#47;span><span>;&nbsp;&nbsp;<&#47;span><&#47;span><&#47;li>
<li class=""><span>&nbsp;&nbsp;<&#47;span><&#47;li>
<li class="alt"><span>?>&nbsp;&nbsp;<&#47;span><&#47;li><br />
<&#47;ol><br />
<&#47;div></p>
